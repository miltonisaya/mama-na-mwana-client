<div fxFlexLayoutAlign="row" fxLayoutAlign="space-between center">
  <div>
    <h3>Dashboard</h3>
  </div>
</div>

<div fxLayout="row" fxLayoutAlign="space-between stretch">
  <mat-card fxFlex="50" class="card-red" *ngIf="numberOfRegisteredContactsIsReady === true">
    <h1>Total # of registered contacts: {{numberOfRegisteredContacts}}</h1>
  </mat-card>
  <mat-card fxFlex="50" class="card-green" *ngIf="numberOfRegisteredContactsTodayIsReady === true">
    <h1>Total # of registered contacts today: {{numberOfRegisteredContactsToday}}</h1>
  </mat-card>
</div>
<p></p>

<div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="20px">
  <div fxFlex="100" class="mat-elevation-z8">
    <div fxLayout="column" fxLayoutAlign="space-evenly end" >
      <button mat-raised-button type="button" class="mat-primary mat-elevation-z8" (click)="registrationsByFacility()">DOWNLOAD REGISTRATIONS BY FACILITY</button>
    </div>

    <app-widget-bar [data]="bigChart" [title]="titleCouncils" *ngIf="bigChartsIsReady === true"></app-widget-bar>
  </div>
</div>
<p></p>

<div fxLayout="column" fxLayoutAlign="stretch">
  <h3>Transaction Logs</h3>
</div>

<mat-card class="mat-elevation-z8">
<ul>
  <li *ngFor="let trx of transactions?.content">
    <div class="transaction-logs">
      <b>Date Processed:</b> {{trx.dateProcessed}}
      <br>
      <b>Payload:</b> <ngx-json-viewer [json]=parseToJson(trx.payload) [expanded]="false"></ngx-json-viewer>
      <br>
      <b>DHIS2 Response:</b> {{trx.dhisResponse}}
            <div *ngIf="trx.isSent" class="success-transactions">
              Sent
            </div>
            <div *ngIf="trx.isSent == false" class="pending-transactions">
              Not Sent
            </div>
            <button *ngIf="trx.isSent==false" matTooltip="Resend" matTooltipPosition="left" mat-icon-button>
              <button mat-raised-button class="mat-button mat-primary" (click)="resend(trx)">Resend</button>
            </button>
      <mat-divider></mat-divider>
    </div>
  </li>
</ul>
</mat-card>

<mat-paginator
  fxLayout="column"
  fxLayoutAlign="stretch"
  [pageSize]="pageSize"
  [pageSizeOptions]="pageSizeOptions"
  [length]="transactions?.totalElements"
  (page)="pageChanged($event)"
></mat-paginator>
